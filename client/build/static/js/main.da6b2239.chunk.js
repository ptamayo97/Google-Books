(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,n){e.exports=n(328)},195:function(e,t,n){},328:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),l=n.n(o),c=(n(195),n(20)),i=n(21),s=n(23),u=n(22),m=n(24),f=n(330),d=n(331),h=n(332),v=n(7),E=n(3),p=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return r.a.createElement(E.a,{className:e.appBar},r.a.createElement(E.k,{variant:"h6",align:"center",color:"inherit"},"Google Books"),r.a.createElement(E.j,{centered:!0,value:t,onChange:this.handleChange,variant:"fullWidth"},r.a.createElement(E.i,{label:"Search",href:"/"}),r.a.createElement(E.i,{label:"Saved",href:"/Saved"})))}}]),t}(r.a.Component),g=Object(v.withStyles)({appBar:{display:"flex"}})(p),k=n(32),y=n.n(k),B=n(98),b=n.n(B);n(96).config();var w=b.a.key,j={search:function(e){return y.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+w)},save:function(e){return y.a.post("/API",e)},load:function(){return y.a.get("/API/books")},remove:function(e){return y.a.delete("/API/books/"+e)}},O=Object(v.withStyles)({header:{background:"grey",color:"#ffffff",padding:"60px 10px"}})(function(e){var t=e.classes;return r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement(E.h,{className:t.header},r.a.createElement(E.k,{variant:"h2",color:"inherit",align:"center"},"Google Books"),r.a.createElement(E.k,{variant:"h4",color:"inherit",align:"center"},"Search For & Save Your Favorite Books")))});function S(){return r.a.createElement(E.g,{id:"SearchBar",placeholder:"Book",type:"text",fullWidth:!0})}function x(e){return r.a.createElement(E.b,{type:"submit",id:"SearchButton",onClick:function(t){return e.searchBooks(t)}},"Search")}var C=Object(v.withStyles)({searchBar:{padding:"0 10px"}})(function(e){var t=e.classes;return r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement(E.h,null,r.a.createElement(E.f,{container:!0,className:t.container,justify:"center"},r.a.createElement(E.f,{item:!0,xs:12},r.a.createElement(E.k,{variant:"title"},"Book Search")),r.a.createElement(E.f,{item:!0,xs:8},r.a.createElement(S,{className:t.searchBar})),r.a.createElement(E.f,{item:!0,xs:2},r.a.createElement(x,{searchBooks:e.searchBooks})))))}),I={},N=function(e){return r.a.createElement(E.c,{style:I.card,id:e.title+" Card"},r.a.createElement(E.d,null,r.a.createElement(E.f,{container:!0},r.a.createElement(E.f,{item:!0,sm:8},r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,e.author))),r.a.createElement(E.f,{item:!0,sm:4},r.a.createElement(E.k,{component:"div",display:"inline"},r.a.createElement(E.f,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(E.f,{item:!0,xs:6},r.a.createElement(E.b,{href:e.link,fullWidth:!0},"View More")),r.a.createElement(E.f,{item:!0,xs:6},r.a.createElement(E.b,{id:e.id,onClick:function(t){return e.saveBook(t)},fullWidth:!0},"Save Book")))))),r.a.createElement(E.f,{container:!0},r.a.createElement(E.f,{item:!0,lg:2},r.a.createElement(E.e,{style:I.cardMedia},r.a.createElement("img",{src:e.image,alt:"Image of"+e.title}))),r.a.createElement(E.f,{item:!0,lg:10},r.a.createElement("p",null,e.description)))))},W=Object(v.withStyles)(I)(function(e){return console.log(e),0===e.results.length?r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement("div",null,r.a.createElement("h1",null," Results "))):r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement("div",{style:I.resultsWrapper},r.a.createElement("h1",null," Results "),e.results.items.map(function(t){return r.a.createElement(N,{key:t.id,id:t.id,image:t.volumeInfo.imageLinks.smallThumbnail,title:t.volumeInfo.title,author:t.volumeInfo.authors,description:t.volumeInfo.description,link:t.volumeInfo.previewLink,saveBook:e.saveBook})})))}),A=n(40),L=n.n(A),T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={results:[]},n.searchBooks=function(e){e.preventDefault();var t=document.getElementById("SearchBar").value;j.search(t).then(function(e){n.setState({results:e.data})})},n.saveBook=function(e){e.preventDefault();var t=n.state.results.items.filter(function(t){return t.id===e.target.id});console.log(t[0]),j.save(t[0]).then(console.log("Saved: "+t[0]))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(L.a,{container:!0,className:e.container},r.a.createElement(O,null),r.a.createElement(C,{searchBooks:this.searchBooks,className:e.searchBar}),r.a.createElement(W,{results:this.state.results,saveBook:this.saveBook}))}}]),t}(r.a.Component),M=Object(v.withStyles)({container:{display:"flex",justifyContent:"center",paddingTop:100},searchBar:{paddingTop:15}})(T),P={},R=function(e){return r.a.createElement(E.f,{item:!0,lg:11},r.a.createElement(E.c,{style:P.card,id:e.title+" Card"},r.a.createElement(E.d,null,r.a.createElement(E.f,{container:!0},r.a.createElement(E.f,{item:!0,sm:10},r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,e.author))),r.a.createElement(E.f,{item:!0,sm:2},r.a.createElement("div",null,r.a.createElement("a",{href:e.link},r.a.createElement("button",null,"View More")),r.a.createElement("button",{id:e.id,onClick:function(t){return e.removeBook(t)}},"Remove Book")))),r.a.createElement(E.f,{container:!0},r.a.createElement(E.f,{item:!0,lg:2},r.a.createElement(E.e,{style:P.cardMedia},r.a.createElement("img",{src:e.image,alt:"Image of"+e.title}))),r.a.createElement(E.f,{item:!0,lg:10},r.a.createElement("p",null,e.description))))))},_=Object(v.withStyles)(P)(function(e){return 0===e.saved.length?r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement("div",null,r.a.createElement("h1",null," Saved Books "))):r.a.createElement(E.f,{item:!0,xs:11,sm:11},r.a.createElement("div",{style:P.resultsWrapper},r.a.createElement("h1",null," Saved Books "),e.saved.map(function(t){return r.a.createElement(R,{key:t._id,id:t._id,image:t.image,title:t.title,author:t.author,description:t.synopsis,link:t.link,removeBook:e.removeBook})})))}),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={savedBooks:[]},n.getBooks=function(){j.load().then(function(e){return n.setState({savedBooks:[e.data]})}).catch(function(e){return console.log(e)})},n.removeBook=function(e){j.remove(e).then(function(){n.getBooks()}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(E.f,{container:!0,className:e.results,justify:"center"},r.a.createElement(O,null),r.a.createElement(_,{saved:this.state.savedBooks,removeBook:this.removeBook}))}}]),t}(r.a.Component),U=Object(v.withStyles)({results:{display:"flex",justifyContent:"center",paddingTop:100},savedLabel:{marginTop:20},container:{display:"flex",justifyContent:"center",paddingTop:100}})(D),V=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:M}),r.a.createElement(h.a,{exact:!0,path:"/saved",component:U}))))}}]),t}(a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(V,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");F?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):G(e)})}}()},98:function(e,t,n){n(96).config(),t.googleBooks={key:"&key="+Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY}}},[[190,2,1]]]);
//# sourceMappingURL=main.da6b2239.chunk.js.map